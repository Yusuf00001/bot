<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Resmi Belge Ãœretim Paneli</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --tg-theme-bg-color: #f0f2f5; --tg-theme-button-color: #2481cc; --tg-theme-text-color: #000000; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: var(--tg-theme-bg-color); color: var(--tg-theme-text-color); padding: 15px; margin: 0; padding-bottom: 80px; /* Buton iÃ§in boÅŸluk */ }
        .card { background: white; padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px; }
        select, input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 15px; }
        label { font-size: 12px; font-weight: bold; color: #555; display: block; margin-top: 10px; }
        .btn { background: var(--tg-theme-button-color); color: white; border: none; padding: 15px; width: 100%; border-radius: 10px; font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 15px; }
        .btn-wallet { background: #28a745; margin-top: 5px; font-size: 13px; padding: 10px; }
        .header { text-align: center; margin-bottom: 15px; }
        .header h2 { color: var(--tg-theme-button-color); margin: 0; }
        .wallet-box { background: #f1f3f5; border: 2px solid #dee2e6; padding: 14px; border-radius: 10px; word-break: break-all; font-family: sans-serif; font-size: 15px; text-align: center; margin-top: 10px; color: #000000 !important; font-weight: 700; letter-spacing: 0.5px; }
        
        /* EN ALT DESTEK BUTONU */
        .footer-support {
            position: fixed;
            bottom: 15px;
            left: 15px;
            right: 15px;
            text-align: center;
        }
        .btn-support {
            background: #ffffff;
            color: #2481cc;
            border: 2px solid #2481cc;
            padding: 10px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: bold;
            text-decoration: none;
            display: block;
        }
    </style>
</head>
<body>
    <div class="header"><h2>ðŸ“Š Ä°ÅŸlem MenÃ¼sÃ¼</h2></div>
    
    <div class="card">
        <label>ðŸ›  BELGE ÃœRETÄ°M SÄ°STEMÄ°</label>
        <select id="typeSelect" onchange="createForm()">
            <option value="">-- BELGE TÃœRÃœ SEÃ‡Ä°NÄ°Z --</option>
            <option value="kimlik">ðŸªª T.C. KÄ°MLÄ°K</option>
            <option value="kimlik0">ðŸªª T.C. KÄ°MLÄ°K (V2)</option>
            <option value="ehliyet">ðŸ’³ Ehliyet </option>
            <option value="ruhsat">ðŸš— AraÃ§ RuhsatÄ±</option>
            <option value="araclarim">ðŸš˜ AraÃ§larÄ±m Sorgusu</option>
            <option value="dekont">ðŸ“‘ Banka Dekontu</option>
            <option value="dr1">ðŸ©º DR KÄ°MLÄ°ÄžÄ°</option>
            <option value="dr2">ðŸ©º DR KÄ°MLÄ°ÄžÄ° (V2)</option>
        </select>
        <div id="formArea"></div>
        <button id="sendBtn" class="btn" style="display:none;" onclick="submitData()">Belgeyi HazÄ±rla (150 TL)</button>
    </div>

    <div class="card" style="border-top: 4px solid #28a745;">
        <label>ðŸ’° BAKÄ°YE YÃœKLEME & ONAY</label>
        <p style="font-size: 13px; color: #666;">TRX (TRC-20) gÃ¶nderdikten sonra TXID kodunu girin.</p>
        <div class="wallet-box" id="walletAddr">TRWHVBtjdmoZHGAY14oyf8mn4CtUkRBWaE</div>
        <button class="btn btn-wallet" onclick="copyWallet()">CÃ¼zdanÄ± Kopyala</button>
        <hr style="margin: 15px 0; border: 0; border-top: 1px solid #eee;">
        <label>TXID KODU</label>
        <input type="text" id="txidInput" placeholder="TXID kodunu yapÄ±ÅŸtÄ±rÄ±n...">
        <button class="btn" style="background:#28a745; margin-top:5px;" onclick="approveBalance()">Bakiyeyi Onayla</button>
    </div>

    <div class="footer-support">
        <a href="https://t.me/buyucu" class="btn-support">ðŸ’¬ Admin / Destek</a>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        const forms = {
            "dr1": ["Ä°sim Soyisim"], "dr2": ["Ä°sim Soyisim"],
            "araclarim": ["Plaka", "Marka", "Model", "YÄ±l", "Seri No", "Tescil Tarihi", "Sahiplik Tarihi", "Mahrumiyet", "Sahibi AdÄ±"],
            "kimlik0": ["TC No", "Ad", "Soyad", "DoÄŸum Tarihi", "Seri No", "GeÃ§erlilik Tarihi", "Cinsiyet", "Uyruk"],
            "ruhsat": ["Noterlik", "Plaka", "Tescil No", "Marka", "Model", "Cinsi", "Ä°lk Tescil", "Tescil Tar.", "Tipi", "Model YÄ±l", "Kategori", "Renk", "Motor No", "Åžasi No", "AÄŸÄ±rlÄ±k", "YÃ¼klÃ¼ AÄŸ.", "Koltuk", "Silindir", "YakÄ±t", "AmaÃ§", "Azami YÃ¼k", "RÃ¶mork Kap.", "Motor GÃ¼cÃ¼", "Tip Onay No", "Ad", "Soyad", "Adres", "Muayene"],
            "kimlik": ["TC No", "Ad", "Soyad", "DoÄŸum Tarihi", "Seri No", "Son GeÃ§erlilik", "Cinsiyet", "Uyruk"],
            "dekont": ["Ä°ÅŸlem TÃ¼rÃ¼", "Banka", "Tutar", "GÃ¶nderen", "AlÄ±cÄ± IBAN", "Tarih/Saat", "Sorgu No", "Masraf", "AlÄ±cÄ± Ad", "Ä°ÅŸlem No", "AÃ§Ä±klama"],
            "ehliyet": ["Soyad", "Ad", "DoÄŸum Tarihi/Yer", "VeriliÅŸ", "GeÃ§erlilik", "Belge No", "VerildiÄŸi Yer", "TC No"]
        };

        function createForm() {
            const type = document.getElementById('typeSelect').value;
            const area = document.getElementById('formArea');
            const btn = document.getElementById('sendBtn');
            area.innerHTML = "";
            if(type && forms[type]) {
                forms[type].forEach((label, i) => {
                    area.innerHTML += `<label>${label}</label><input type="text" id="input_${i}" placeholder="${label} giriniz...">`;
                });
                btn.style.display = "block";
            } else { btn.style.display = "none"; }
        }

        function copyWallet() {
            const el = document.createElement('textarea');
            el.value = document.getElementById('walletAddr').innerText;
            document.body.appendChild(el); el.select(); document.execCommand('copy');
            document.body.removeChild(el); tg.showAlert("CÃ¼zdan adresi kopyalandÄ±!");
        }

        function submitData() {
            const type = document.getElementById('typeSelect').value;
            const values = [];
            for(let i=0; i < forms[type].length; i++) {
                const val = document.getElementById(`input_${i}`).value.trim();
                if(!val) { tg.showAlert("Eksik alan bÄ±rakmayÄ±n!"); return; }
                values.push(val);
            }
            tg.showConfirm(`${type.toUpperCase()} hazÄ±rlanacak (150 TL). OnaylÄ±yor musunuz?`, function(ok) {
                if (ok) { tg.sendData(JSON.stringify({type: type, inputs: values})); tg.close(); }
            });
        }

        function approveBalance() {
            const txid = document.getElementById('txidInput').value.trim();
            if(!txid) { tg.showAlert("TXID kodu girin!"); return; }
            tg.sendData(JSON.stringify({type: "bakiye_onay", txid: txid}));
            tg.close();
        }
    </script>
</body>
</html>
